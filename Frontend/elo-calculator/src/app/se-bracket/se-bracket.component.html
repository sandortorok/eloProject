<div [style] = "desktopView?'min-width:1800px':''">
    <header *ngIf="matches != undefined && !groupMode" class="hero">
        <div class="hero-wrap">
            <p class="intro" id="intro" style="margin-bottom: 0;">Pányok</p>
            <h1 id="headline">{{gameType | gameType}} Bajnokság</h1>
            <p class="year"><i class="fa fa-star"></i> 2022 <i class="fa fa-star"></i></p>
            <p>{{gameName}}</p>
        </div>
    </header>
    <section *ngIf="user?.privilegeType == 'Admin' || matches != undefined" id="bracket">
        <div *ngIf="user?.privilegeType == 'Admin'" class="btn-wrapper">
            <app-neon-button #new text="ÚJ BEOSZTÁS" (click)="onNewBracket()"></app-neon-button>
            <app-neon-button #load text="BETÖLTÉS" style="filter:hue-rotate(100deg);" (click)="onLoad()"></app-neon-button>
            <app-neon-button #save text="MENTÉS" (click)="onSave()"></app-neon-button>
            <app-neon-button text="NYOMTATÁS" style="filter:hue-rotate(100deg);" (click)="onPrintClick()"></app-neon-button>
        </div>
        <app-spinner *ngIf="matches != undefined && matches.length == 0"></app-spinner>
        <div *ngIf="matches != undefined && matches.length > 0" class="split-wrap">
            <h1></h1>
            <div class="container" #container>
                <div class="split split-one" [ngStyle]="{'width': (matches.length>20) ? '42%' : '100%'}">
                    <div *ngFor="let round of matches | rounds :'SELeft'; let i = index" class="round round-{{i+1}}">
                        <div class="round-details">{{i+1}}. Forduló <br /><span class="date">KEDD</span></div>
                        <ul *ngFor="let match of round" class="matchup" id="match {{match.Meccs_id}}">
                            <li class="team" (click)="onTeamClick($event)"
                                [class.win]="match.Csapatok[0]==match.Gyoztes && match.Gyoztes.length > 0"
                                [class.lose]="match.Csapatok[0] != match.Gyoztes && match.Gyoztes.length > 0 && match.Gyoztes != 'draw' && match.Csapatok[0]!=''">
                                {{match.Csapatok[0]}}<span class="score">{{match.score0}}</span></li>
                            <li class="team" (click)="onTeamClick($event)"
                                [class.win]="match.Csapatok[1]==match.Gyoztes  && match.Gyoztes.length > 0"
                                [class.lose]="match.Csapatok[1] != match.Gyoztes && match.Gyoztes.length > 0 && match.Gyoztes != 'draw' && match.Csapatok[1]!=''">
                                {{match.Csapatok[1]}}<span class="score">{{match.score1}}</span></li>
                        </ul>
                    </div> <!-- END ROUND ONE -->
                </div>
                <div class="champion" [style]="{'width': (matches.length>20) ? '13%' : '30%'}">
                    <div class="final" *ngIf="(matches|sechampions:'final') as final" [style]="{'margin': (matches.length > 10)? '4.5em 0' : '0'}">
                        <div class="round-details" style="margin-top:20px; margin-bottom:0">DÖNTŐ <br /><span class="date">CSÜTÖRTÖK</span></div>
                        <i *ngIf="matches.length>10" class="fa fa-trophy" style="color:gold; margin-right:30px"></i><i *ngIf="matches.length>10" class="fa fa-trophy" style="color:silver"></i>
                        <ul class="matchup championship" id="match {{final.Meccs_id}}">
                            <li class="team" (click)="onTeamClick($event)"
                                [class.win]="final.Csapatok[0]==final.Gyoztes && final.Gyoztes.length > 0"
                                [class.lose]="final.Csapatok[0] != final.Gyoztes && final.Gyoztes.length > 0 && final.Gyoztes != 'draw' && final.Csapatok[0]!=''">
                                {{final.Csapatok[0]}}<span class="score">{{final.score0}}</span></li>
                            <li class="team" (click)="onTeamClick($event)"
                                [class.win]="final.Csapatok[1]==final.Gyoztes && final.Gyoztes.length > 0"
                                [class.lose]="final.Csapatok[1] != final.Gyoztes && final.Gyoztes.length > 0 && final.Gyoztes != 'draw' && final.Csapatok[1]!=''">
                                {{final.Csapatok[1]}}<span class="score">{{final.score1}}</span></li>
                        </ul>
                    </div>
                    <div class="thirdPlace" *ngIf="(matches|sechampions:'thirdPlace') as third" [style]="{'margin': (matches.length > 10)? '4.5em 0' : '0'}">
                        <ul class="matchup championship" id="match {{third.Meccs_id}}">
                            <li class="team" (click)="onTeamClick($event)"
                                [class.win]="third.Csapatok[0]==third.Gyoztes && third.Gyoztes.length > 0"
                                [class.lose]="third.Csapatok[0] != third.Gyoztes && third.Gyoztes.length > 0 && third.Gyoztes != 'draw' && third.Csapatok[0]!=''">
                                {{third.Csapatok[0]}}<span class="score">{{third.score0}}</span></li>
                            <li class="team" (click)="onTeamClick($event)"
                            [class.win]="third.Csapatok[1]==third.Gyoztes && third.Gyoztes.length > 0"
                                [class.lose]="third.Csapatok[1] != third.Gyoztes && third.Gyoztes.length > 0 && third.Gyoztes != 'draw' && third.Csapatok[1]!=''">
                                {{third.Csapatok[1]}}<span class="score">{{third.score1}}</span></li>
                        </ul>
                        <i *ngIf="matches.length>10" class="fa fa-trophy" style="color:gold;"></i>
                        <div class="round-details">Harmadik hely<br /><span class="date">CSÜTÖRTÖK</span></div>
                    </div>
                </div>
                <div *ngIf="matches.length>20" class="split split-two">
                    <div *ngFor="let round of matches| rounds :'SERight'; let i = index"
                        class="round round-{{round[i].Round}}">
                        <div class="round-details">{{round[i].Round}}. Forduló<br /><span class="date">KEDD</span></div>
                        <ul *ngFor="let match of round" class="reverse matchup" id="match {{match.Meccs_id}}">
                            <li class="team" (click)="onTeamClick($event)"
                                [class.win]="match.Csapatok[0]==match.Gyoztes && match.Gyoztes.length > 0"
                                [class.lose]="match.Csapatok[1] != match.Gyoztes && match.Gyoztes.length > 0 && match.Gyoztes != 'draw' && match.Csapatok[1]!=''">
                                {{match.Csapatok[0]}}<span class="score">{{match.score0}}</span></li>
                            <li class="team" (click)="onTeamClick($event)"
                                [class.win]="match.Csapatok[1]==match.Gyoztes  && match.Gyoztes.length > 0"
                                [class.lose]="match.Csapatok[1] != match.Gyoztes && match.Gyoztes.length > 0 && match.Gyoztes != 'draw' && match.Csapatok[1]!=''">
                                {{match.Csapatok[1]}}<span class="score">{{match.score1}}</span></li>
                        </ul>
                    </div> <!-- END ROUND ONE -->
                </div>
            </div>
        </div>
    </section>
    <div *ngIf="matches != undefined && matches.length > 0" style="display: flex; align-items:center; justify-content:center; margin-top:5rem">
        <div class="switch-button">
            <input class="switch-button-checkbox" type="checkbox" (change)="viewChange()">
            <label class="switch-button-label" for=""><span class="switch-button-label-span">Normal</span></label>
        </div>
    </div>
</div>
<app-wait-screen *ngIf="user?.privilegeType != 'Admin' && matches == undefined"></app-wait-screen>
